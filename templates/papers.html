{% extends "layout.html" %}
{% block content %}

    <div class="container p-3">
    {% for wd in domains %}
        <a href="view-data?f={{ ("?workflow oda:domain <"+wd+">") | urlencode }}">
        {{ wd.replace("http://odahub.io/ontology", "") }} 
        </a>
    {% endfor %}
    </div>

  <table class="table table-striped table-sm">

    <thead class="thead">
     <tr>
       <th>URI</th>
       <th>Title</th>
       <th>Facts About Paper</th>
       <th>Facts Reported In Paper</th>
       <th>Actions</th>
     </tr>
    </thead>

    {% for pid, p in papers %}
        <tr>
            <td>
                {% for l in p['paper:location'] %}
                    <a href="{{ l }}">{{ pid }}</a>
                {% endfor %}
            </td>
            <td>
                {% for t in p['paper:title'] %}
                    {{ t }}
                {% endfor %}
            </td>
            <td> 
                <ol>
                {% for k,v in p.items() %}
                {% if k not in ['@id', 'paper:location', 'paper:title']%}
                    <li>
                        {{ k }}: {{ v }}
                    </li>
                {% endif %}
                {% endfor %}
                </ol>
            </td>

            <td>
            </td>

            <td>
                <div class="span2">
                    <button type="button" class="btn btn-sm btn-block btn-primary" 
                                          onclick="window.open('care?paper-uri={{ pid | urlencode }}','_blank');">Care</button>
                    <button type="button" class="btn btn-sm btn-block btn-danger" 
                                          onclick="$.get('expire?uri=', function (data) {alert(data); })">Uncare</button>
                </div>
            </td>
        </tr>
    {% endfor %}

  </table>
{% endblock %}
